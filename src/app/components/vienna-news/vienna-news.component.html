<div class="page">
  <h1 class="page-title">Top News</h1>
    <app-mailman-loader *ngIf="loading || error" [error]="error"></app-mailman-loader>
  <app-top-stories [stories]="topStories"></app-top-stories>
    <h1 class="page-title">Daily News</h1>
  <div class="content-grid">
      <app-mailman-loader *ngIf="loading || error" [error]="error"></app-mailman-loader>
    <div class="news-feed">
      <app-news-card *ngFor="let n of pagedFeed" [article]="n"></app-news-card>
      <div class="pagination-controls" *ngIf="feed.length">
        <label>Items per page:
          <select [ngModel]="itemsPerPage" (ngModelChange)="onPerPageChange($event)">
            <option *ngFor="let opt of itemsPerPageOptions" [value]="opt">{{opt}}</option>
          </select>
        </label>
        <button (click)="prevPage()" [disabled]="currentPage === 1">Prev</button>
        <span>Page {{currentPage}} / {{totalPages}}</span>
        <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
      </div>
    </div>
    <aside class="sidebar">
      <div class="weather-widget">
          <app-weather></app-weather>
      </div>
    </aside>
  </div>
</div>
